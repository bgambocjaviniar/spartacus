<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>storefrontapp documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css" media="(prefers-color-scheme: dark)">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">storefrontapp documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li >VisualPickingProductListService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts</code>
        </p>





            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_selectedProductCodes" >_selectedProductCodes</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#activeSlideStartIndex" >activeSlideStartIndex</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#currentProduct$" >currentProduct$</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#DEFAULT_ITEMS_PER_SLIDE" >DEFAULT_ITEMS_PER_SLIDE</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#filteredItems$" >filteredItems$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#filteredItemsSubscription" >filteredItemsSubscription</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getFilteredProductReferencesSubscription" >getFilteredProductReferencesSubscription</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#itemsPerSlide" >itemsPerSlide</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#productReferences$" >productReferences$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#productReferencesSubscription" >productReferencesSubscription</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#selectedProductCodesChange" >selectedProductCodesChange</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_getProductReferences" >_getProductReferences</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getFilteredProductReferences" >getFilteredProductReferences</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getProductReferences" >getProductReferences</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getVisualPickingProductListItems" >getVisualPickingProductListItems</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#initialize" >initialize</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#productReferenceType" >productReferenceType</a>
                                </li>
                                <li>
                                    <a href="#selectedProductCodes" >selectedProductCodes</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(currentProductService: <a href="../injectables/CurrentProductService.html" target="_self">CurrentProductService</a>, productReferenceService: <a href="../injectables/ProductReferenceService.html" target="_self">ProductReferenceService</a>, visualPickingProductFilterService: <a href="../injectables/VisualPickingProductFilterService.html" target="_self">VisualPickingProductFilterService</a>, epdVisualizationConfig: <a href="../injectables/EpdVisualizationConfig.html" target="_self">EpdVisualizationConfig</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:34</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>currentProductService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/CurrentProductService.html" target="_self" >CurrentProductService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>productReferenceService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ProductReferenceService.html" target="_self" >ProductReferenceService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>visualPickingProductFilterService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/VisualPickingProductFilterService.html" target="_self" >VisualPickingProductFilterService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>epdVisualizationConfig</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/EpdVisualizationConfig.html" target="_self" >EpdVisualizationConfig</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_getProductReferences"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>_getProductReferences</b></span>
                        <a href="#_getProductReferences"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_getProductReferences()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="104"
                            class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:104</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;ProductReference[]&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFilteredProductReferences"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getFilteredProductReferences</b></span>
                        <a href="#getFilteredProductReferences"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getFilteredProductReferences()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="131"
                            class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:131</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns an Observable that produces a filtered array of spare part product references for the current product.
Filtering is performed by the VisualPickingProductFilterService.</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;ProductReference[]&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>An Observable that produces a filtered array of spare part product references for the current product.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getProductReferences"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getProductReferences</b></span>
                        <a href="#getProductReferences"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getProductReferences()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="100"
                            class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:100</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns an Observable that produces the spare part product references for the current product.</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;ProductReference[]&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>An Observable that produces the spare part product references for the current product.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getVisualPickingProductListItems"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getVisualPickingProductListItems</b></span>
                        <a href="#getVisualPickingProductListItems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getVisualPickingProductListItems(productReferences$: Observable<ProductReference[]>, selectedProductCodes$: Observable<string[]>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="160"
                            class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:160</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Used to create the list item model data for the visual picking product list.
Returns an observable containing an array of VisualPickingProductListItem objects created by combining the latest values from
an Observable producing an array of product references and
an Observable producing an array of selected product codes.
The VisualPickingProductListItem model object combines a ProductReference for a spare part and the selected state of the list item.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>productReferences$</td>
                                    <td>
                                            <code>Observable&lt;ProductReference[]&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>An Observable producing the array of ProductReference values to map.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>selectedProductCodes$</td>
                                    <td>
                                            <code>Observable&lt;string[]&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>An Observable producing the array of selected product codes.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;VisualPickingProductListItem[]&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>An Observable producing an array of VisualPickingProductListItem values.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initialize"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>initialize</b></span>
                        <a href="#initialize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initialize()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="51"
                            class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:51</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Initializes the service.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="72"
                            class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:72</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_selectedProductCodes"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_selectedProductCodes</b></span>
                        <a href="#_selectedProductCodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string[]</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="147" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:147</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="activeSlideStartIndex"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>activeSlideStartIndex</b></span>
                        <a href="#activeSlideStartIndex"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="137" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:137</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentProduct$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>currentProduct$</b></span>
                        <a href="#currentProduct$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Observable&lt;Product&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.currentProductService
    .getProduct()
    .pipe(
      filter((product) &#x3D;&gt; !!product &amp;&amp; !!product.code),
      map((product) &#x3D;&gt; product as Product),
      distinctUntilChanged((p1, p2) &#x3D;&gt; p1.code &#x3D;&#x3D;&#x3D; p2.code)
    )</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="86" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:86</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="DEFAULT_ITEMS_PER_SLIDE"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>DEFAULT_ITEMS_PER_SLIDE</b></span>
                        <a href="#DEFAULT_ITEMS_PER_SLIDE"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>7</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:42</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filteredItems$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>filteredItems$</b></span>
                        <a href="#filteredItems$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Observable&lt;VisualPickingProductListItem[]&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.getVisualPickingProductListItems(
      this.getFilteredProductReferences(),
      this.selectedProductCodesChange
    ).pipe(shareReplay())</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="188" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:188</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filteredItemsSubscription"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>filteredItemsSubscription</b></span>
                        <a href="#filteredItemsSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:46</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFilteredProductReferencesSubscription"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>getFilteredProductReferencesSubscription</b></span>
                        <a href="#getFilteredProductReferencesSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:44</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="itemsPerSlide"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>itemsPerSlide</b></span>
                        <a href="#itemsPerSlide"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.DEFAULT_ITEMS_PER_SLIDE</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="138" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:138</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="productReferences$"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>productReferences$</b></span>
                        <a href="#productReferences$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subject&lt;ProductReference[]&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="94" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:94</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="productReferencesSubscription"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>productReferencesSubscription</b></span>
                        <a href="#productReferencesSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:45</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedProductCodesChange"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>selectedProductCodesChange</b></span>
                        <a href="#selectedProductCodesChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new EventEmitter&lt;string[]&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="148" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:148</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="productReferenceType"></a>
                        <span class="name"><b>productReferenceType</b><a href="#productReferenceType"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>productReferenceType()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="78" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:78</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="selectedProductCodes"></a>
                        <span class="name"><b>selectedProductCodes</b><a href="#selectedProductCodes"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>selectedProductCodes()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="144" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:144</a></div>
                                </td>
                            </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>set</b><code>selectedProductCodes(selectedProductCodes: string[])</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="140" class="link-to-prism">integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts:140</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">

                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <table class="params">
                                            <thead>
                                                <tr>
                                                    <td>Name</td>
                                                        <td>Type</td>
                                                    <td>Optional</td>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                    <tr>
                                                            <td>selectedProductCodes</td>
                                                    
                                                            <td>
                                                                        <code>string[]</code>
                                                            </td>
                                                    
                                                        <td>
                                                                No
                                                        </td>
                                                        
                                                    </tr>
                                            </tbody>
                                        </table>
                                </div>
                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                                </div>
                        </td>
                    </tr>
            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { EventEmitter, Injectable, OnDestroy } from &#x27;@angular/core&#x27;;
import {
  Product,
  ProductReference,
  ProductReferenceService,
} from &#x27;@spartacus/core&#x27;;
import {
  EpdVisualizationConfig,
  EpdVisualizationInnerConfig,
  VisualPickingConfig,
} from &#x27;@spartacus/epd-visualization/root&#x27;;
import { CurrentProductService } from &#x27;@spartacus/storefront&#x27;;
import { combineLatest, Observable, Subject, Subscription } from &#x27;rxjs&#x27;;
import {
  distinctUntilChanged,
  filter,
  map,
  shareReplay,
  switchMap,
  tap,
} from &#x27;rxjs/operators&#x27;;
import { VisualPickingProductFilterService } from &#x27;../product-filter/visual-picking-product-filter.service&#x27;;
import { VisualPickingProductListItem } from &#x27;./model/visual-picking-product-list-item.model&#x27;;

@Injectable({
  providedIn: &#x27;any&#x27;,
})
export class VisualPickingProductListService implements OnDestroy {
  constructor(
    protected currentProductService: CurrentProductService,
    protected productReferenceService: ProductReferenceService,
    protected visualPickingProductFilterService: VisualPickingProductFilterService,
    protected epdVisualizationConfig: EpdVisualizationConfig
  ) {}

  protected readonly DEFAULT_ITEMS_PER_SLIDE &#x3D; 7;

  private getFilteredProductReferencesSubscription: Subscription;
  private productReferencesSubscription: Subscription;
  private filteredItemsSubscription: Subscription;

  /**
   * Initializes the service.
   */
  public initialize(): void {
    this.getFilteredProductReferencesSubscription &#x3D;
      this.getFilteredProductReferences().subscribe(() &#x3D;&gt; {
        this.activeSlideStartIndex &#x3D; 0;
      });

    this.filteredItemsSubscription &#x3D; this.filteredItems$.subscribe((items) &#x3D;&gt; {
      const firstSelectedItemIndex &#x3D; items.findIndex((item) &#x3D;&gt; item.selected);
      if (firstSelectedItemIndex !&#x3D;&#x3D; -1) {
        this.activeSlideStartIndex &#x3D;
          firstSelectedItemIndex -
          (firstSelectedItemIndex % this.itemsPerSlide);
      }
    });

    this.selectedProductCodes &#x3D; [];
    this.productReferencesSubscription &#x3D; this._getProductReferences().subscribe(
      this.productReferences$
    );
  }

  ngOnDestroy(): void {
    this.getFilteredProductReferencesSubscription?.unsubscribe();
    this.filteredItemsSubscription?.unsubscribe();
    this.productReferencesSubscription?.unsubscribe();
  }

  private get productReferenceType() {
    const epdVisualization &#x3D; this.epdVisualizationConfig
      .epdVisualization as EpdVisualizationInnerConfig;
    const visualPickingConfig &#x3D;
      epdVisualization.visualPicking as VisualPickingConfig;
    return visualPickingConfig.productReferenceType;
  }

  public currentProduct$: Observable&lt;Product&gt; &#x3D; this.currentProductService
    .getProduct()
    .pipe(
      filter((product) &#x3D;&gt; !!product &amp;&amp; !!product.code),
      map((product) &#x3D;&gt; product as Product),
      distinctUntilChanged((p1, p2) &#x3D;&gt; p1.code &#x3D;&#x3D;&#x3D; p2.code)
    );

  private productReferences$ &#x3D; new Subject&lt;ProductReference[]&gt;();

  /**
   * Returns an Observable that produces the spare part product references for the current product.
   * @returns An Observable that produces the spare part product references for the current product.
   */
  public getProductReferences(): Observable&lt;ProductReference[]&gt; {
    return this.productReferences$;
  }

  private _getProductReferences(): Observable&lt;ProductReference[]&gt; {
    return this.currentProduct$.pipe(
      tap((product: Product) &#x3D;&gt;
        this.productReferenceService.loadProductReferences(
          product.code as string,
          this.productReferenceType
        )
      ),
      switchMap((product) &#x3D;&gt;
        this.productReferenceService.getProductReferences(
          product.code as string,
          this.productReferenceType
        )
      ),
      filter(
        (productReferences: ProductReference[]) &#x3D;&gt;
          productReferences !&#x3D;&#x3D; undefined
      ),
      distinctUntilChanged((x, y) &#x3D;&gt; JSON.stringify(x) &#x3D;&#x3D;&#x3D; JSON.stringify(y))
    );
  }

  /**
   * Returns an Observable that produces a filtered array of spare part product references for the current product.
   * Filtering is performed by the VisualPickingProductFilterService.
   * @returns An Observable that produces a filtered array of spare part product references for the current product.
   */
  public getFilteredProductReferences(): Observable&lt;ProductReference[]&gt; {
    return this.visualPickingProductFilterService
      .getFilteredProducts(this.getProductReferences())
      .pipe(shareReplay());
  }

  public activeSlideStartIndex &#x3D; 0;
  public itemsPerSlide &#x3D; this.DEFAULT_ITEMS_PER_SLIDE;

  public set selectedProductCodes(selectedProductCodes: string[]) {
    this._selectedProductCodes &#x3D; selectedProductCodes;
    this.selectedProductCodesChange.next(selectedProductCodes);
  }
  public get selectedProductCodes(): string[] {
    return this._selectedProductCodes;
  }
  private _selectedProductCodes: string[];
  public selectedProductCodesChange &#x3D; new EventEmitter&lt;string[]&gt;();

  /**
   * Used to create the list item model data for the visual picking product list.
   * Returns an observable containing an array of VisualPickingProductListItem objects created by combining the latest values from
   * an Observable producing an array of product references and
   * an Observable producing an array of selected product codes.
   * The VisualPickingProductListItem model object combines a ProductReference for a spare part and the selected state of the list item.
   * @param productReferences$ An Observable producing the array of ProductReference values to map.
   * @param selectedProductCodes$ An Observable producing the array of selected product codes.
   * @returns An Observable producing an array of VisualPickingProductListItem values.
   */
  public getVisualPickingProductListItems(
    productReferences$: Observable&lt;ProductReference[]&gt;,
    selectedProductCodes$: Observable&lt;string[]&gt;
  ): Observable&lt;VisualPickingProductListItem[]&gt; {
    return combineLatest([productReferences$, selectedProductCodes$]).pipe(
      filter(
        ([productReferences, selectedProductCodes]) &#x3D;&gt;
          !!productReferences &amp;&amp; !!selectedProductCodes
      ),
      map(([productReferences, selectedProductCodes]) &#x3D;&gt; {
        return productReferences
          .filter(
            (productReference) &#x3D;&gt;
              !!productReference.target &amp;&amp; !!productReference.target.code
          )
          .map((productReference) &#x3D;&gt; {
            const product &#x3D; productReference.target as Product;
            const productCode &#x3D; product.code as string;
            const selected &#x3D; selectedProductCodes.indexOf(productCode) !&#x3D;&#x3D; -1;
            return {
              product,
              selected,
            };
          });
      })
    );
  }

  public filteredItems$: Observable&lt;VisualPickingProductListItem[]&gt; &#x3D;
    this.getVisualPickingProductListItems(
      this.getFilteredProductReferences(),
      this.selectedProductCodesChange
    ).pipe(shareReplay());
}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'VisualPickingProductListService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       
       <script type="module" src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
