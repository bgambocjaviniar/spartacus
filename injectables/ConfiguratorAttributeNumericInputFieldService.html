<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>storefrontapp documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css" media="(prefers-color-scheme: dark)">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">storefrontapp documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li >ConfiguratorAttributeNumericInputFieldService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>feature-libs/product-configurator/rulebased/components/attribute/types/numeric-input-field/configurator-attribute-numeric-input-field.component.service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Provides validation and formatting of numeric input</p>

            </p>



            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#createValidationError" >createValidationError</a>
                            </li>
                            <li>
                                <a href="#formatIntervalValue" >formatIntervalValue</a>
                            </li>
                            <li>
                                <a href="#getInterval" >getInterval</a>
                            </li>
                            <li>
                                <a href="#getIntervals" >getIntervals</a>
                            </li>
                            <li>
                                <a href="#getNumberFormatValidator" >getNumberFormatValidator</a>
                            </li>
                            <li>
                                <a href="#getPatternForValidationMessage" >getPatternForValidationMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#handleSingleOrInfinite" >handleSingleOrInfinite</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#handleStandardInterval" >handleStandardInterval</a>
                            </li>
                            <li>
                                <a href="#performValidationAccordingToMetaData" >performValidationAccordingToMetaData</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>


            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createValidationError"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>createValidationError</b></span>
                        <a href="#createValidationError"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createValidationError(isError: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="324"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/components/attribute/types/numeric-input-field/configurator-attribute-numeric-input-field.component.service.ts:324</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>isError</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>literal type | null</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatIntervalValue"></a>
                    <span class="name">
                        <span ><b>formatIntervalValue</b></span>
                        <a href="#formatIntervalValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>formatIntervalValue(intervalValue: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, decimalPlaces: number | undefined, locale: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="66"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/components/attribute/types/numeric-input-field/configurator-attribute-numeric-input-field.component.service.ts:66</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>intervalValue</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>decimalPlaces</td>
                                    <td>
                                            <code>number | undefined</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>locale</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInterval"></a>
                    <span class="name">
                        <span ><b>getInterval</b></span>
                        <a href="#getInterval"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getInterval(value: <a href="../injectables/Config.html" target="_self">Configurator.Value</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="124"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/components/attribute/types/numeric-input-field/configurator-attribute-numeric-input-field.component.service.ts:124</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Parses the value name and returns the interval structure.
Valid interval strings:
Standard Interval
5 - 10
5 - &lt;10</p>
<blockquote>
<p>5 - 10
5 - &lt;10
-10 - -5
1.25 - 1.35</p>
</blockquote>
<p>Infinite Interval</p>
<blockquote>
<p>5
=5
&lt;5
&lt;=5
-5</p>
</blockquote>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Value</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>value which will be parsed</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../injectables/Config.html" target="_self" >ConfiguratorAttributeNumericInterval | undefined</a></code>

                    </div>
                    <div class="io-description">
                        <p>parsed interval</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getIntervals"></a>
                    <span class="name">
                        <span ><b>getIntervals</b></span>
                        <a href="#getIntervals"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getIntervals(values: <a href="../injectables/Config.html" target="_self">Configurator.Value[] | undefined</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="88"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/components/attribute/types/numeric-input-field/configurator-attribute-numeric-input-field.component.service.ts:88</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Parses the value names and returns the intervals.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>values</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Value[] | undefined</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>values of the attribute</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../injectables/Config.html" target="_self" >ConfiguratorAttributeNumericInterval[]</a></code>

                    </div>
                    <div class="io-description">
                        <p>parsed intervals</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNumberFormatValidator"></a>
                    <span class="name">
                        <span ><b>getNumberFormatValidator</b></span>
                        <a href="#getNumberFormatValidator"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNumberFormatValidator(locale: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, numberDecimalPlaces: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, numberTotalPlaces: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, negativeAllowed: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="279"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/components/attribute/types/numeric-input-field/configurator-attribute-numeric-input-field.component.service.ts:279</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the validator for the input component that represents numeric input.
The validator only allows the grouping separator, the decimal separator, an optional &#39;-&#39; sign,
and the digits between 0..9. This validator does not support the scientific notation of
attributes.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>locale</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The locale</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>numberDecimalPlaces</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Number of decimal places</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>numberTotalPlaces</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Total number of digits</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>negativeAllowed</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>: Do we allow negative input?</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://angular.io/api/forms/ValidatorFn" target="_blank" >ValidatorFn</a></code>

                    </div>
                    <div class="io-description">
                        <p>The validator</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPatternForValidationMessage"></a>
                    <span class="name">
                        <span ><b>getPatternForValidationMessage</b></span>
                        <a href="#getPatternForValidationMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getPatternForValidationMessage(decimalPlaces: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, totalLength: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, negativeAllowed: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, locale: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="241"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/components/attribute/types/numeric-input-field/configurator-attribute-numeric-input-field.component.service.ts:241</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get pattern for the message that is displayed when the validation fails. This message e.g. looks like
&#39;Wrong format, this numerical attribute should be entered according to pattern ##,###,###.##&#39;
for the &#39;en&#39; locale for an attribute with total length of 10 and 2 decimal places.</p>
<p> @returns {string} The pattern that we display in the validation message</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>decimalPlaces</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Number of decimal places</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>totalLength</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Total number of digits</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>negativeAllowed</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Do we allow negative input?</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>locale</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Locale</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        <p>The pattern that we display in the validation message</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleSingleOrInfinite"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>handleSingleOrInfinite</b></span>
                        <a href="#handleSingleOrInfinite"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleSingleOrInfinite(valueName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, minVal: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, interval: <a href="../injectables/Config.html" target="_self">ConfiguratorAttributeNumericInterval</a>, maxVal: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="169"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/components/attribute/types/numeric-input-field/configurator-attribute-numeric-input-field.component.service.ts:169</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>valueName</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>minVal</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>interval</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >ConfiguratorAttributeNumericInterval</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>maxVal</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ minVal: string; maxVal: string; }</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleStandardInterval"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>handleStandardInterval</b></span>
                        <a href="#handleStandardInterval"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleStandardInterval(valueName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, minVal: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, maxVal: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, interval: <a href="../injectables/Config.html" target="_self">ConfiguratorAttributeNumericInterval</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="207"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/components/attribute/types/numeric-input-field/configurator-attribute-numeric-input-field.component.service.ts:207</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>valueName</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>minVal</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>maxVal</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>interval</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >ConfiguratorAttributeNumericInterval</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ minVal: string; maxVal: string; }</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="performValidationAccordingToMetaData"></a>
                    <span class="name">
                        <span ><b>performValidationAccordingToMetaData</b></span>
                        <a href="#performValidationAccordingToMetaData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>performValidationAccordingToMetaData(input: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, groupingSeparator: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, decimalSeparator: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, numberTotalPlaces: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, numberDecimalPlaces: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="41"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/components/attribute/types/numeric-input-field/configurator-attribute-numeric-input-field.component.service.ts:41</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Validates numeric input according to settings that are not derived from the locale but from the attribute
meta data like the total number of digits and the maximum number of decimal places.</p>
<p>  do not check exactly on the position of it in the numerical input. This e.g. is ok: &#39;12,12,12&#39;, will be converted
  to &#39;121,212&#39; after the next roundtrip
 @returns {boolean} Did we see a validation error?</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>input</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Numeric user input, formatted according to session locale</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>groupingSeparator</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Separator for grouping, e.g. &#39;,&#39; for &#39;en&#39; locale. We allow the grouping separator but
do not check exactly on the position of it in the numerical input. This e.g. is ok: &#39;12,12,12&#39;, will be converted
to &#39;121,212&#39; after the next roundtrip</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>decimalSeparator</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Decimal separator, e.g. &#39;.&#39; for &#39;en&#39; locale. Must not occur more that 1 time in the input.</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>numberTotalPlaces</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Total number of places e.g. 10</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>numberDecimalPlaces</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Number of decimal places e.g. 2</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>Did we see a validation error?</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  formatNumber,
  getLocaleNumberSymbol,
  NumberSymbol,
} from &#x27;@angular/common&#x27;;
import { Injectable } from &#x27;@angular/core&#x27;;
import { AbstractControl, ValidatorFn } from &#x27;@angular/forms&#x27;;
import { Configurator } from &#x27;../../../../core/model/configurator.model&#x27;;

export interface ConfiguratorAttributeNumericInterval {
  minValue?: number;
  maxValue?: number;
  minValueIncluded: boolean;
  maxValueIncluded: boolean;
}

/**
 * Provides validation and formatting of numeric input
 */
@Injectable({ providedIn: &#x27;root&#x27; })
export class ConfiguratorAttributeNumericInputFieldService {
  /**
   * Validates numeric input according to settings that are not derived from the locale but from the attribute
   * meta data like the total number of digits and the maximum number of decimal places.
   *
   * @param input Numeric user input, formatted according to session locale
   * @param groupingSeparator Separator for grouping, e.g. &#x27;,&#x27; for &#x27;en&#x27; locale. We allow the grouping separator but
   *   do not check exactly on the position of it in the numerical input. This e.g. is ok: &#x27;12,12,12&#x27;, will be converted
   *   to &#x27;121,212&#x27; after the next roundtrip
   * @param decimalSeparator  Decimal separator, e.g. &#x27;.&#x27; for &#x27;en&#x27; locale. Must not occur more that 1 time in the input.
   * @param numberTotalPlaces  Total number of places e.g. 10
   * @param numberDecimalPlaces  Number of decimal places e.g. 2
   *  @returns {boolean} Did we see a validation error?
   */
  performValidationAccordingToMetaData(
    input: string,
    groupingSeparator: string,
    decimalSeparator: string,
    numberTotalPlaces: number,
    numberDecimalPlaces: number
  ): boolean {
    const escape &#x3D; &#x27;\\&#x27;;
    const search: RegExp &#x3D; new RegExp(escape + groupingSeparator, &#x27;g&#x27;);
    const woGrouping &#x3D; input.replace(search, &#x27;&#x27;);
    const splitParts &#x3D; woGrouping.split(decimalSeparator);

    if (splitParts.length &gt; 2) {
      return true;
    }
    if (splitParts.length &#x3D;&#x3D;&#x3D; 1) {
      return woGrouping.length &gt; numberTotalPlaces - numberDecimalPlaces;
    }

    return (
      splitParts[0].length &gt; numberTotalPlaces - numberDecimalPlaces ||
      splitParts[1].length &gt; numberDecimalPlaces
    );
  }

  formatIntervalValue(
    intervalValue: number,
    decimalPlaces: number | undefined,
    locale: string
  ): string {
    if (decimalPlaces &#x3D;&#x3D;&#x3D; undefined) {
      decimalPlaces &#x3D; 0;
    }
    const formatted &#x3D; formatNumber(
      intervalValue,
      locale,
      &#x27;1.&#x27; + decimalPlaces + &#x27;-&#x27; + decimalPlaces
    );
    return formatted;
  }

  /**
   * Parses the value names and returns the intervals.
   *
   * @param values values of the attribute
   * @returns {ConfiguratorAttributeNumericInterval[]} parsed intervals
   */
  getIntervals(
    values: Configurator.Value[] | undefined
  ): ConfiguratorAttributeNumericInterval[] {
    const intervals: ConfiguratorAttributeNumericInterval[] &#x3D; [];
    if (values &amp;&amp; values.length &gt; 0) {
      values.forEach((value) &#x3D;&gt; {
        const interval &#x3D; this.getInterval(value);
        if (interval &amp;&amp; Object.keys(interval).length !&#x3D;&#x3D; 0) {
          intervals.push(interval);
        }
      });
    }
    return intervals;
  }

  /**
   * Parses the value name and returns the interval structure.
   * Valid interval strings:
   * Standard Interval
   * 5 - 10
   * 5 - &lt;10
   * &gt;5 - 10
   * &gt;5 - &lt;10
   * -10 - -5
   * 1.25 - 1.35
   *
   * Infinite Interval
   * &gt;5
   * &gt;&#x3D;5
   * &lt;5
   * &lt;&#x3D;5
   * &gt;-5
   *
   * @param value value which will be parsed
   * @returns {ConfiguratorAttributeNumericInterval} parsed interval
   */
  getInterval(
    value: Configurator.Value
  ): ConfiguratorAttributeNumericInterval | undefined {
    const interval: ConfiguratorAttributeNumericInterval &#x3D; {
      minValue: undefined,
      maxValue: undefined,
      minValueIncluded: false,
      maxValueIncluded: false,
    };
    if (!value || !value.name || value.selected) {
      return undefined;
    }

    let minVal: string &#x3D; &#x27;&#x27;;
    let maxVal: string &#x3D; &#x27;&#x27;;

    // standard interval a - b
    if (value.name.includes(&#x27; - &#x27;)) {
      ({ minVal, maxVal } &#x3D; this.handleStandardInterval(
        value.name,
        minVal,
        maxVal,
        interval
      ));

      // infinite interval or single value
    } else {
      ({ minVal, maxVal } &#x3D; this.handleSingleOrInfinite(
        value.name,
        minVal,
        interval,
        maxVal
      ));
    }

    if (minVal &amp;&amp; minVal.length &gt; 0) {
      interval.minValue &#x3D; +minVal;
    }
    if (maxVal &amp;&amp; maxVal.length &gt; 0) {
      interval.maxValue &#x3D; +maxVal;
    }

    return interval;
  }

  protected handleSingleOrInfinite(
    valueName: string,
    minVal: string,
    interval: ConfiguratorAttributeNumericInterval,
    maxVal: string
  ) {
    if (valueName.includes(&#x27;&gt;&#x27;)) {
      minVal &#x3D; valueName;
      interval.minValueIncluded &#x3D; false;
      minVal &#x3D; minVal.replace(&#x27;&gt;&#x27;, &#x27;&#x27;);
    }
    if (valueName.includes(&#x27;&lt;&#x27;)) {
      maxVal &#x3D; valueName;
      interval.maxValueIncluded &#x3D; false;
      maxVal &#x3D; maxVal.replace(&#x27;&lt;&#x27;, &#x27;&#x27;);
    }
    if (valueName.includes(&#x27;≥&#x27;)) {
      minVal &#x3D; valueName;
      interval.minValueIncluded &#x3D; true;
      minVal &#x3D; minVal.replace(&#x27;≥&#x27;, &#x27;&#x27;);
    }
    if (valueName.includes(&#x27;≤&#x27;)) {
      maxVal &#x3D; valueName;
      interval.maxValueIncluded &#x3D; true;
      maxVal &#x3D; maxVal.replace(&#x27;≤&#x27;, &#x27;&#x27;);
    }
    if (
      !valueName.includes(&#x27;&gt;&#x27;) &amp;&amp;
      !valueName.includes(&#x27;&lt;&#x27;) &amp;&amp;
      !valueName.includes(&#x27;≤&#x27;) &amp;&amp;
      !valueName.includes(&#x27;≥&#x27;)
    ) {
      minVal &#x3D; valueName;
      maxVal &#x3D; valueName;
    }
    return { minVal, maxVal };
  }

  protected handleStandardInterval(
    valueName: string,
    minVal: string,
    maxVal: string,
    interval: ConfiguratorAttributeNumericInterval
  ) {
    let index &#x3D; valueName.indexOf(&#x27; - &#x27;);
    minVal &#x3D; valueName.substring(0, index);
    maxVal &#x3D; valueName.substring(index + 3, valueName.length);
    interval.minValueIncluded &#x3D; true;
    interval.maxValueIncluded &#x3D; true;
    if (minVal.includes(&#x27;&gt;&#x27;)) {
      interval.minValueIncluded &#x3D; false;
      minVal &#x3D; minVal.replace(&#x27;&gt;&#x27;, &#x27;&#x27;);
    }

    if (maxVal.includes(&#x27;&lt;&#x27;)) {
      interval.maxValueIncluded &#x3D; false;
      maxVal &#x3D; maxVal.replace(&#x27;&lt;&#x27;, &#x27;&#x27;);
    }
    return { minVal, maxVal };
  }

  /**
   * Get pattern for the message that is displayed when the validation fails. This message e.g. looks like
   * &#x27;Wrong format, this numerical attribute should be entered according to pattern ##,###,###.##&#x27;
   * for the &#x27;en&#x27; locale for an attribute with total length of 10 and 2 decimal places.
   *
   * @param decimalPlaces Number of decimal places
   * @param totalLength Total number of digits
   * @param negativeAllowed Do we allow negative input?
   * @param locale  Locale
   *  @returns {string} The pattern that we display in the validation message
   */
  getPatternForValidationMessage(
    decimalPlaces: number,
    totalLength: number,
    negativeAllowed: boolean,
    locale: string
  ): string {
    let input: string &#x3D; (10 ** totalLength - 1).toString();
    if (decimalPlaces &gt; 0) {
      input &#x3D;
        input.substring(0, totalLength - decimalPlaces) +
        &#x27;.&#x27; +
        input.substring(totalLength - decimalPlaces, totalLength);
    }
    const inputAsNumber: number &#x3D; Number(input);
    let formatted &#x3D; formatNumber(
      inputAsNumber,
      locale,
      &#x27;1.&#x27; + decimalPlaces + &#x27;-&#x27; + decimalPlaces
    ).replace(/9/g, &#x27;#&#x27;);
    if (negativeAllowed) {
      formatted &#x3D; &#x27;-&#x27; + formatted;
    }
    return formatted;
  }

  /**
   * Returns the validator for the input component that represents numeric input.
   * The validator only allows the grouping separator, the decimal separator, an optional &#x27;-&#x27; sign,
   * and the digits between 0..9. This validator does not support the scientific notation of
   * attributes.
   *
   * @param locale The locale
   * @param numberDecimalPlaces Number of decimal places
   * @param numberTotalPlaces  Total number of digits
   * @param negativeAllowed: Do we allow negative input?
   * @returns {ValidatorFn} The validator
   */

  getNumberFormatValidator(
    locale: string,
    numberDecimalPlaces: number,
    numberTotalPlaces: number,
    negativeAllowed: boolean
  ): ValidatorFn {
    return (control: AbstractControl): { [key: string]: any } | null &#x3D;&gt; {
      const input: string &#x3D; control.value;
      if (input) {
        //allowed: only numbers and separators

        const groupingSeparator &#x3D; getLocaleNumberSymbol(
          locale,
          NumberSymbol.Group
        );
        const decimalSeparator &#x3D; getLocaleNumberSymbol(
          locale,
          NumberSymbol.Decimal
        );
        const expressionPrefix &#x3D; negativeAllowed ? &#x27;^-?&#x27; : &#x27;^&#x27;;
        const expressionOnlyNumericalInput: RegExp &#x3D; new RegExp(
          expressionPrefix +
            &#x27;[0123456789&#x27; +
            groupingSeparator +
            decimalSeparator +
            &#x27;]*$&#x27;
        );

        if (!expressionOnlyNumericalInput.test(input)) {
          return this.createValidationError(true);
        }
        return this.createValidationError(
          this.performValidationAccordingToMetaData(
            input,
            groupingSeparator,
            decimalSeparator,
            numberTotalPlaces + (input.includes(&#x27;-&#x27;) ? 1 : 0),
            numberDecimalPlaces
          )
        );
      }
      return null;
    };
  }

  protected createValidationError(
    isError: boolean
  ): { [key: string]: any } | null {
    return isError ? { wrongFormat: {} } : null;
  }
}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ConfiguratorAttributeNumericInputFieldService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       
       <script type="module" src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
