<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>storefrontapp documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css" media="(prefers-color-scheme: dark)">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">storefrontapp documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li >OccConfiguratorVariantNormalizer</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts</code>
        </p>





            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Static</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#RETRACT_VALUE_CODE" >RETRACT_VALUE_CODE</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#addRetractValue" >addRetractValue</a>
                            </li>
                            <li>
                                <a href="#compileAttributeIncomplete" >compileAttributeIncomplete</a>
                            </li>
                            <li>
                                <a href="#convert" >convert</a>
                            </li>
                            <li>
                                <a href="#convertAttribute" >convertAttribute</a>
                            </li>
                            <li>
                                <a href="#convertAttributeType" >convertAttributeType</a>
                            </li>
                            <li>
                                <a href="#convertGroup" >convertGroup</a>
                            </li>
                            <li>
                                <a href="#convertGroupType" >convertGroupType</a>
                            </li>
                            <li>
                                <a href="#convertImage" >convertImage</a>
                            </li>
                            <li>
                                <a href="#convertImageFormatType" >convertImageFormatType</a>
                            </li>
                            <li>
                                <a href="#convertImageType" >convertImageType</a>
                            </li>
                            <li>
                                <a href="#convertValue" >convertValue</a>
                            </li>
                            <li>
                                <a href="#getGroupId" >getGroupId</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#hasSourceAttributeConflicts" >hasSourceAttributeConflicts</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#isRetractBlocked" >isRetractBlocked</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#isRetractValueSelected" >isRetractValueSelected</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#isSourceAttributeTypeReadOnly" >isSourceAttributeTypeReadOnly</a>
                            </li>
                            <li>
                                <a href="#setGroupDescription" >setGroupDescription</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#setRetractValueDisplay" >setRetractValueDisplay</a>
                            </li>
                            <li>
                                <a href="#setSelectedSingleValue" >setSelectedSingleValue</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(config: <a href="../injectables/OccConfig.html" target="_self">OccConfig</a>, translation: <a href="../classes/TranslationService.html" target="_self">TranslationService</a>, uiSettingsConfig: <a href="../injectables/ConfiguratorUISettingsConfig.html" target="_self">ConfiguratorUISettingsConfig</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:20</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>config</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/OccConfig.html" target="_self" >OccConfig</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>translation</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/TranslationService.html" target="_self" >TranslationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>uiSettingsConfig</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ConfiguratorUISettingsConfig.html" target="_self" >ConfiguratorUISettingsConfig</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addRetractValue"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>addRetractValue</b></span>
                        <a href="#addRetractValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addRetractValue(sourceAttribute: OccConfigurator.Attribute, values: <a href="../injectables/Config.html" target="_self">Configurator.Value[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="226"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:226</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sourceAttribute</td>
                                    <td>
                                            <code>OccConfigurator.Attribute</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>values</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Value[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="compileAttributeIncomplete"></a>
                    <span class="name">
                        <span ><b>compileAttributeIncomplete</b></span>
                        <a href="#compileAttributeIncomplete"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>compileAttributeIncomplete(attribute: <a href="../injectables/Config.html" target="_self">Configurator.Attribute</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="432"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:432</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>attribute</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Attribute</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convert"></a>
                    <span class="name">
                        <span ><b>convert</b></span>
                        <a href="#convert"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>convert(source: OccConfigurator.Configuration, target?: <a href="../injectables/Config.html" target="_self">Configurator.Configuration</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="28"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:28</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>source</td>
                                    <td>
                                            <code>OccConfigurator.Configuration</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>target</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Configuration</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../injectables/Config.html" target="_self" >Configurator.Configuration</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convertAttribute"></a>
                    <span class="name">
                        <span ><b>convertAttribute</b></span>
                        <a href="#convertAttribute"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>convertAttribute(sourceAttribute: OccConfigurator.Attribute, attributeList: <a href="../injectables/Config.html" target="_self">Configurator.Attribute[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="101"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:101</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sourceAttribute</td>
                                    <td>
                                            <code>OccConfigurator.Attribute</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>attributeList</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Attribute[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convertAttributeType"></a>
                    <span class="name">
                        <span ><b>convertAttributeType</b></span>
                        <a href="#convertAttributeType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>convertAttributeType(sourceAttribute: OccConfigurator.Attribute)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="302"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:302</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sourceAttribute</td>
                                    <td>
                                            <code>OccConfigurator.Attribute</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../injectables/Config.html" target="_self" >Configurator.UiType</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convertGroup"></a>
                    <span class="name">
                        <span ><b>convertGroup</b></span>
                        <a href="#convertGroup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>convertGroup(source: OccConfigurator.Group, groupList: <a href="../injectables/Config.html" target="_self">Configurator.Group[]</a>, flatGroupList: <a href="../injectables/Config.html" target="_self">Configurator.Group[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="55"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:55</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>source</td>
                                    <td>
                                            <code>OccConfigurator.Group</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>groupList</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Group[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>flatGroupList</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Group[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convertGroupType"></a>
                    <span class="name">
                        <span ><b>convertGroupType</b></span>
                        <a href="#convertGroupType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>convertGroupType(groupType: OccConfigurator.GroupType)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="362"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:362</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>groupType</td>
                                    <td>
                                            <code>OccConfigurator.GroupType</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../injectables/Config.html" target="_self" >Configurator.GroupType</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convertImage"></a>
                    <span class="name">
                        <span ><b>convertImage</b></span>
                        <a href="#convertImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>convertImage(occImage: OccConfigurator.Image, images: <a href="../injectables/Config.html" target="_self">Configurator.Image[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="278"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:278</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>occImage</td>
                                    <td>
                                            <code>OccConfigurator.Image</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>images</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Image[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convertImageFormatType"></a>
                    <span class="name">
                        <span ><b>convertImageFormatType</b></span>
                        <a href="#convertImageFormatType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>convertImageFormatType(formatType: OccConfigurator.ImageFormatType)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="421"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:421</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>formatType</td>
                                    <td>
                                            <code>OccConfigurator.ImageFormatType</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../injectables/Config.html" target="_self" >Configurator.ImageFormatType</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convertImageType"></a>
                    <span class="name">
                        <span ><b>convertImageType</b></span>
                        <a href="#convertImageType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>convertImageType(imageType: OccConfigurator.ImageType)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="410"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:410</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>imageType</td>
                                    <td>
                                            <code>OccConfigurator.ImageType</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../injectables/Config.html" target="_self" >Configurator.ImageType</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convertValue"></a>
                    <span class="name">
                        <span ><b>convertValue</b></span>
                        <a href="#convertValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>convertValue(occValue: OccConfigurator.Value, values: <a href="../injectables/Config.html" target="_self">Configurator.Value[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="256"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:256</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>occValue</td>
                                    <td>
                                            <code>OccConfigurator.Value</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>values</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Value[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getGroupId"></a>
                    <span class="name">
                        <span ><b>getGroupId</b></span>
                        <a href="#getGroupId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getGroupId(key: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="97"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:97</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>key</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasSourceAttributeConflicts"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>hasSourceAttributeConflicts</b></span>
                        <a href="#hasSourceAttributeConflicts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>hasSourceAttributeConflicts(sourceAttribute: OccConfigurator.Attribute)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="204"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:204</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sourceAttribute</td>
                                    <td>
                                            <code>OccConfigurator.Attribute</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isRetractBlocked"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>isRetractBlocked</b></span>
                        <a href="#isRetractBlocked"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isRetractBlocked(sourceAttribute: OccConfigurator.Attribute)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="218"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:218</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sourceAttribute</td>
                                    <td>
                                            <code>OccConfigurator.Attribute</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isRetractValueSelected"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>isRetractValueSelected</b></span>
                        <a href="#isRetractValueSelected"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isRetractValueSelected(sourceAttribute: OccConfigurator.Attribute)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="173"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:173</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sourceAttribute</td>
                                    <td>
                                            <code>OccConfigurator.Attribute</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isSourceAttributeTypeReadOnly"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>isSourceAttributeTypeReadOnly</b></span>
                        <a href="#isSourceAttributeTypeReadOnly"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isSourceAttributeTypeReadOnly(sourceAttribute: OccConfigurator.Attribute)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="212"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:212</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sourceAttribute</td>
                                    <td>
                                            <code>OccConfigurator.Attribute</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setGroupDescription"></a>
                    <span class="name">
                        <span ><b>setGroupDescription</b></span>
                        <a href="#setGroupDescription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setGroupDescription(group: <a href="../injectables/Config.html" target="_self">Configurator.Group</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="377"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:377</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>group</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Group</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setRetractValueDisplay"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>setRetractValueDisplay</b></span>
                        <a href="#setRetractValueDisplay"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setRetractValueDisplay(attributeType: <a href="../injectables/Config.html" target="_self">Configurator.UiType</a>, value: <a href="../injectables/Config.html" target="_self">Configurator.Value</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="182"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:182</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>attributeType</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.UiType</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>value</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Value</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setSelectedSingleValue"></a>
                    <span class="name">
                        <span ><b>setSelectedSingleValue</b></span>
                        <a href="#setSelectedSingleValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setSelectedSingleValue(attribute: <a href="../injectables/Config.html" target="_self">Configurator.Attribute</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="162"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:162</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>attribute</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Attribute</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="RETRACT_VALUE_CODE"></a>
                    <span class="name">
                            <span class="modifier">Static</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>RETRACT_VALUE_CODE</b></span>
                        <a href="#RETRACT_VALUE_CODE"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;###RETRACT_VALUE_CODE###&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">feature-libs/product-configurator/rulebased/occ/variant/converters/occ-configurator-variant-normalizer.ts:20</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { Converter, OccConfig, TranslationService } from &#x27;@spartacus/core&#x27;;
import { ConfiguratorModelUtils } from &#x27;@spartacus/product-configurator/common&#x27;;
import { take } from &#x27;rxjs/operators&#x27;;
import { ConfiguratorUISettingsConfig } from &#x27;../../../components/config/configurator-ui-settings.config&#x27;;
import { OccConfigurator } from &#x27;../variant-configurator-occ.models&#x27;;
import { Configurator } from &#x27;./../../../core/model/configurator.model&#x27;;

@Injectable({ providedIn: &#x27;root&#x27; })
export class OccConfiguratorVariantNormalizer
  implements
    Converter&lt;OccConfigurator.Configuration, Configurator.Configuration&gt;
{
  static readonly RETRACT_VALUE_CODE &#x3D; &#x27;###RETRACT_VALUE_CODE###&#x27;;

  constructor(
    protected config: OccConfig,
    protected translation: TranslationService,
    protected uiSettingsConfig: ConfiguratorUISettingsConfig
  ) {}

  convert(
    source: OccConfigurator.Configuration,
    target?: Configurator.Configuration
  ): Configurator.Configuration {
    const resultTarget: Configurator.Configuration &#x3D; {
      ...target,
      owner: target?.owner ?? ConfiguratorModelUtils.createInitialOwner(),
      interactionState: target?.interactionState ?? {},
      configId: source.configId,
      complete: source.complete,
      consistent: source.consistent,
      totalNumberOfIssues: source.totalNumberOfIssues,
      productCode: source.rootProduct,
      groups: [],
      flatGroups: [],
      kbKey: source.kbKey ?? undefined,
      pricingEnabled: source.pricingEnabled ?? true,
    };
    const flatGroups: Configurator.Group[] &#x3D; [];
    source.groups?.forEach((group) &#x3D;&gt;
      this.convertGroup(group, resultTarget.groups, flatGroups)
    );
    resultTarget.flatGroups &#x3D; flatGroups;

    return resultTarget;
  }

  convertGroup(
    source: OccConfigurator.Group,
    groupList: Configurator.Group[],
    flatGroupList: Configurator.Group[]
  ) {
    const attributes: Configurator.Attribute[] &#x3D; [];
    if (source.attributes) {
      source.attributes.forEach((sourceAttribute) &#x3D;&gt;
        this.convertAttribute(sourceAttribute, attributes)
      );
    }

    const group: Configurator.Group &#x3D; {
      description: source.description,
      configurable: source.configurable,
      complete: source.complete,
      consistent: source.consistent,
      groupType: this.convertGroupType(source.groupType),
      name: source.name,
      id: source.id,
      attributes: attributes,
      subGroups: [],
    };

    this.setGroupDescription(group);

    if (source.subGroups) {
      source.subGroups.forEach((sourceSubGroup) &#x3D;&gt;
        this.convertGroup(sourceSubGroup, group.subGroups, flatGroupList)
      );
    }

    if (
      group.groupType &#x3D;&#x3D;&#x3D; Configurator.GroupType.ATTRIBUTE_GROUP ||
      group.groupType &#x3D;&#x3D;&#x3D; Configurator.GroupType.CONFLICT_GROUP
    ) {
      flatGroupList.push(group);
    }

    groupList.push(group);
  }

  getGroupId(key: string, name: string): string {
    return key.replace(&#x27;@&#x27; + name, &#x27;&#x27;);
  }

  convertAttribute(
    sourceAttribute: OccConfigurator.Attribute,
    attributeList: Configurator.Attribute[]
  ): void {
    const numberOfConflicts &#x3D; sourceAttribute.conflicts
      ? sourceAttribute.conflicts.length
      : 0;

    const attributeImages: Configurator.Image[] &#x3D; [];
    const attributeValues: Configurator.Value[] &#x3D; [];

    if (sourceAttribute.images) {
      sourceAttribute.images.forEach((occImage) &#x3D;&gt;
        this.convertImage(occImage, attributeImages)
      );
    }

    this.addRetractValue(sourceAttribute, attributeValues);

    if (sourceAttribute.domainValues) {
      sourceAttribute.domainValues.forEach((value) &#x3D;&gt;
        this.convertValue(value, attributeValues)
      );
    }
    const uiType &#x3D; this.convertAttributeType(sourceAttribute);
    const attribute: Configurator.Attribute &#x3D; {
      name: sourceAttribute.name,
      label: sourceAttribute.langDepName,
      required: sourceAttribute.required,
      uiType: uiType,
      groupId: this.getGroupId(sourceAttribute.key, sourceAttribute.name),
      userInput:
        uiType &#x3D;&#x3D;&#x3D; Configurator.UiType.NUMERIC ||
        uiType &#x3D;&#x3D;&#x3D; Configurator.UiType.STRING
          ? sourceAttribute.formattedValue
            ? sourceAttribute.formattedValue
            : &#x27;&#x27;
          : undefined,
      maxlength:
        (sourceAttribute.maxlength ?? 0) +
        (sourceAttribute.negativeAllowed ? 1 : 0),
      numDecimalPlaces: sourceAttribute.numberScale,
      negativeAllowed: sourceAttribute.negativeAllowed,
      numTotalLength: sourceAttribute.typeLength,
      selectedSingleValue: undefined,
      hasConflicts: numberOfConflicts &gt; 0,
      images: attributeImages,
      values: attributeValues,
      intervalInDomain: sourceAttribute.intervalInDomain,
      key: sourceAttribute.key,
      validationType: sourceAttribute.validationType,
      visible: sourceAttribute.visible,
    };

    this.setSelectedSingleValue(attribute);

    //Has to be called after setSelectedSingleValue because it depends on the value of this property
    this.compileAttributeIncomplete(attribute);
    attributeList.push(attribute);
  }

  setSelectedSingleValue(attribute: Configurator.Attribute) {
    if (attribute.values) {
      const selectedValues &#x3D; attribute.values
        .map((entry) &#x3D;&gt; entry)
        .filter((entry) &#x3D;&gt; entry.selected);
      if (selectedValues &amp;&amp; selectedValues.length &#x3D;&#x3D;&#x3D; 1) {
        attribute.selectedSingleValue &#x3D; selectedValues[0].valueCode;
      }
    }
  }

  protected isRetractValueSelected(
    sourceAttribute: OccConfigurator.Attribute
  ): boolean {
    return sourceAttribute.domainValues &amp;&amp;
      sourceAttribute.domainValues.filter((value) &#x3D;&gt; value.selected).length
      ? false
      : true;
  }

  protected setRetractValueDisplay(
    attributeType: Configurator.UiType,
    value: Configurator.Value
  ) {
    if (
      attributeType &#x3D;&#x3D;&#x3D; Configurator.UiType.DROPDOWN ||
      attributeType &#x3D;&#x3D;&#x3D; Configurator.UiType.RADIOBUTTON
    ) {
      if (attributeType &#x3D;&#x3D;&#x3D; Configurator.UiType.DROPDOWN &amp;&amp; value.selected) {
        this.translation
          .translate(&#x27;configurator.attribute.dropDownSelectMsg&#x27;)
          .pipe(take(1))
          .subscribe((text) &#x3D;&gt; (value.valueDisplay &#x3D; text));
      } else {
        this.translation
          .translate(&#x27;configurator.attribute.noOptionSelectedMsg&#x27;)
          .pipe(take(1))
          .subscribe((text) &#x3D;&gt; (value.valueDisplay &#x3D; text));
      }
    }
  }

  protected hasSourceAttributeConflicts(
    sourceAttribute: OccConfigurator.Attribute
  ): boolean {
    return sourceAttribute.conflicts
      ? sourceAttribute.conflicts.length &gt; 0
      : false;
  }

  protected isSourceAttributeTypeReadOnly(
    sourceAttribute: OccConfigurator.Attribute
  ): boolean {
    return sourceAttribute.type &#x3D;&#x3D;&#x3D; OccConfigurator.UiType.READ_ONLY;
  }

  protected isRetractBlocked(
    sourceAttribute: OccConfigurator.Attribute
  ): boolean {
    return sourceAttribute.retractBlocked
      ? sourceAttribute.retractBlocked
      : false;
  }

  protected addRetractValue(
    sourceAttribute: OccConfigurator.Attribute,
    values: Configurator.Value[]
  ) {
    const isRetractBlocked &#x3D; this.isRetractBlocked(sourceAttribute);
    const isConflicting &#x3D; this.hasSourceAttributeConflicts(sourceAttribute);

    if (!isRetractBlocked) {
      if (
        this.uiSettingsConfig?.productConfigurator?.addRetractOption ||
        (this.isSourceAttributeTypeReadOnly(sourceAttribute) &amp;&amp; isConflicting)
      ) {
        const attributeType &#x3D; this.convertAttributeType(sourceAttribute);
        if (
          attributeType &#x3D;&#x3D;&#x3D; Configurator.UiType.RADIOBUTTON ||
          attributeType &#x3D;&#x3D;&#x3D; Configurator.UiType.DROPDOWN
        ) {
          const value: Configurator.Value &#x3D; {
            valueCode: OccConfiguratorVariantNormalizer.RETRACT_VALUE_CODE,
            selected: this.isRetractValueSelected(sourceAttribute),
          };

          this.setRetractValueDisplay(attributeType, value);

          values.push(value);
        }
      }
    }
  }

  convertValue(
    occValue: OccConfigurator.Value,
    values: Configurator.Value[]
  ): void {
    const valueImages: Configurator.Image[] &#x3D; [];
    if (occValue.images) {
      occValue.images.forEach((occImage) &#x3D;&gt;
        this.convertImage(occImage, valueImages)
      );
    }

    const value: Configurator.Value &#x3D; {
      valueCode: occValue.key,
      valueDisplay: occValue.langDepName,
      name: occValue.name,
      selected: occValue.selected,
      images: valueImages,
    };

    values.push(value);
  }

  convertImage(
    occImage: OccConfigurator.Image,
    images: Configurator.Image[]
  ): void {
    const image: Configurator.Image &#x3D; {
      /**
       * Traditionally, in an on-prem world, medias and other backend related calls
       * are hosted at the same platform, but in a cloud setup, applications are
       * typically distributed cross different environments. For media, we use the
       * &#x60;backend.media.baseUrl&#x60; by default, but fallback to &#x60;backend.occ.baseUrl&#x60;
       * if none provided.
       */
      url:
        (this.config?.backend?.media?.baseUrl ||
          this.config?.backend?.occ?.baseUrl ||
          &#x27;&#x27;) + occImage.url,
      altText: occImage.altText,
      galleryIndex: occImage.galleryIndex,
      type: this.convertImageType(occImage.imageType),
      format: this.convertImageFormatType(occImage.format),
    };
    images.push(image);
  }

  convertAttributeType(
    sourceAttribute: OccConfigurator.Attribute
  ): Configurator.UiType {
    let uiType: Configurator.UiType;
    switch (sourceAttribute.type) {
      case OccConfigurator.UiType.RADIO_BUTTON: {
        uiType &#x3D; Configurator.UiType.RADIOBUTTON;
        break;
      }
      case OccConfigurator.UiType.RADIO_BUTTON_ADDITIONAL_INPUT: {
        uiType &#x3D; Configurator.UiType.RADIOBUTTON_ADDITIONAL_INPUT;
        break;
      }
      case OccConfigurator.UiType.DROPDOWN: {
        uiType &#x3D; Configurator.UiType.DROPDOWN;
        break;
      }
      case OccConfigurator.UiType.DROPDOWN_ADDITIONAL_INPUT: {
        uiType &#x3D; Configurator.UiType.DROPDOWN_ADDITIONAL_INPUT;
        break;
      }
      case OccConfigurator.UiType.STRING: {
        uiType &#x3D; Configurator.UiType.STRING;
        break;
      }
      case OccConfigurator.UiType.NUMERIC: {
        uiType &#x3D; Configurator.UiType.NUMERIC;
        break;
      }
      case OccConfigurator.UiType.READ_ONLY: {
        uiType &#x3D;
          !sourceAttribute.retractBlocked &amp;&amp;
          this.hasSourceAttributeConflicts(sourceAttribute)
            ? Configurator.UiType.RADIOBUTTON
            : Configurator.UiType.READ_ONLY;
        break;
      }
      case OccConfigurator.UiType.CHECK_BOX_LIST: {
        uiType &#x3D; Configurator.UiType.CHECKBOXLIST;
        break;
      }
      case OccConfigurator.UiType.CHECK_BOX: {
        uiType &#x3D; Configurator.UiType.CHECKBOX;
        break;
      }
      case OccConfigurator.UiType.MULTI_SELECTION_IMAGE: {
        uiType &#x3D; Configurator.UiType.MULTI_SELECTION_IMAGE;
        break;
      }
      case OccConfigurator.UiType.SINGLE_SELECTION_IMAGE: {
        uiType &#x3D; Configurator.UiType.SINGLE_SELECTION_IMAGE;
        break;
      }
      default: {
        uiType &#x3D; Configurator.UiType.NOT_IMPLEMENTED;
      }
    }
    return uiType;
  }

  convertGroupType(
    groupType: OccConfigurator.GroupType
  ): Configurator.GroupType {
    switch (groupType) {
      case OccConfigurator.GroupType.CSTIC_GROUP:
        return Configurator.GroupType.ATTRIBUTE_GROUP;
      case OccConfigurator.GroupType.INSTANCE:
        return Configurator.GroupType.SUB_ITEM_GROUP;
      case OccConfigurator.GroupType.CONFLICT_HEADER:
        return Configurator.GroupType.CONFLICT_HEADER_GROUP;
      case OccConfigurator.GroupType.CONFLICT:
        return Configurator.GroupType.CONFLICT_GROUP;
    }
  }

  setGroupDescription(group: Configurator.Group): void {
    switch (group.groupType) {
      case Configurator.GroupType.CONFLICT_HEADER_GROUP:
        this.translation
          .translate(&#x27;configurator.group.conflictHeader&#x27;)
          .pipe(take(1))
          .subscribe(
            (conflictHeaderText) &#x3D;&gt; (group.description &#x3D; conflictHeaderText)
          );
        break;
      case Configurator.GroupType.CONFLICT_GROUP:
        const conflictDescription &#x3D; group.description;
        this.translation
          .translate(&#x27;configurator.group.conflictGroup&#x27;, {
            attribute: group.name,
          })
          .pipe(take(1))
          .subscribe(
            (conflictGroupText) &#x3D;&gt; (group.description &#x3D; conflictGroupText)
          );
        group.name &#x3D; conflictDescription;
        break;
      default:
        if (group.name !&#x3D;&#x3D; &#x27;_GEN&#x27;) {
          return;
        }
        this.translation
          .translate(&#x27;configurator.group.general&#x27;)
          .pipe(take(1))
          .subscribe((generalText) &#x3D;&gt; (group.description &#x3D; generalText));
    }
  }

  convertImageType(
    imageType: OccConfigurator.ImageType
  ): Configurator.ImageType {
    switch (imageType) {
      case OccConfigurator.ImageType.GALLERY:
        return Configurator.ImageType.GALLERY;
      case OccConfigurator.ImageType.PRIMARY:
        return Configurator.ImageType.PRIMARY;
    }
  }

  convertImageFormatType(
    formatType: OccConfigurator.ImageFormatType
  ): Configurator.ImageFormatType {
    switch (formatType) {
      case OccConfigurator.ImageFormatType.VALUE_IMAGE:
        return Configurator.ImageFormatType.VALUE_IMAGE;
      case OccConfigurator.ImageFormatType.CSTIC_IMAGE:
        return Configurator.ImageFormatType.ATTRIBUTE_IMAGE;
    }
  }

  compileAttributeIncomplete(attribute: Configurator.Attribute) {
    //Default value for incomplete is false
    attribute.incomplete &#x3D; false;

    switch (attribute.uiType) {
      case Configurator.UiType.RADIOBUTTON:
      case Configurator.UiType.RADIOBUTTON_ADDITIONAL_INPUT:
      case Configurator.UiType.DROPDOWN_ADDITIONAL_INPUT:
      case Configurator.UiType.DROPDOWN: {
        if (
          !attribute.selectedSingleValue ||
          attribute.selectedSingleValue &#x3D;&#x3D;&#x3D;
            OccConfiguratorVariantNormalizer.RETRACT_VALUE_CODE
        ) {
          attribute.incomplete &#x3D; true;
        }
        break;
      }
      case Configurator.UiType.SINGLE_SELECTION_IMAGE: {
        if (!attribute.selectedSingleValue) {
          attribute.incomplete &#x3D; true;
        }
        break;
      }
      case Configurator.UiType.NUMERIC:
      case Configurator.UiType.STRING: {
        if (!attribute.userInput) {
          attribute.incomplete &#x3D; true;
        }
        break;
      }

      case Configurator.UiType.CHECKBOXLIST:
      case Configurator.UiType.CHECKBOX:
      case Configurator.UiType.MULTI_SELECTION_IMAGE: {
        const isOneValueSelected &#x3D;
          attribute.values?.find((value) &#x3D;&gt; value.selected) !&#x3D;&#x3D; undefined;
        attribute.incomplete &#x3D; !isOneValueSelected;
        break;
      }
    }
  }
}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'OccConfiguratorVariantNormalizer.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       
       <script type="module" src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
